---
$schema: https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json
name: NestedText
patterns:
  - include: "#line-comment"
  - include: "#string-item"
  - include: "#list-item"
  - include: "#dictionary-item"
  - include: "#double-quoted-dictionary-item"
  - include: "#single-quoted-dictionary-item"
repository:
  line-comment:
    patterns:
      - match: (#)([^\n]*+) # possesive specific regex is better than .*
        captures:
          1:
            name: keyword.other.nestedtext
          2:
            name: comment.line.number-sign.nestedtext
  string-item:
    patterns:
      - match: "^ *+(>( |\n))([^\n]*+)"
        captures:
          1:
            name: keyword.other.nestedtext
          3:
            name: string.unquoted.nestedtext
  list-item:
    patterns:
      - match: "^ *+(-( |\n))([^\n]*+)"
        captures:
          1:
            name: keyword.other.nestedtext
          3:
            name: string.unquoted.nestedtext
  dictionary-item:
    patterns:
      - match: "^ *+([^\"|^']+)(:( |\n))(.*+)"
        captures:
          1:
            name: support.variable
          2:
            name: keyword.other.nestedtext
          4:
            name: string.unquoted.nestedtext
  double-quoted-dictionary-item:
    patterns:
      - match: "^ *+(\".+\")(:( |\n))(.*+)"
        captures:
          1:
            name: support.variable
          2:
            name: keyword.other.nestedtext
          4:
            name: string.unquoted.nestedtext
  single-quoted-dictionary-item:
    patterns:
      - match: "^ *+('.+')(:( |\n))(.*+)"
        captures:
          1:
            name: support.variable
          2:
            name: keyword.other.nestedtext
          4:
            name: string.unquoted.nestedtext
scopeName: source.nestedtext
...